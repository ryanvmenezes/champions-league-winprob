

<!doctype html>
<html lang="en" class='h-100'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Ryan Menezes">
    <meta name="description" content="">

    <link rel="stylesheet" href="/tiepredict/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/tiepredict/static/css/custom.css">
    
    

    <title>About this site - tiepredict</title>
  </head>

  <body class='d-flex flex-column h-100'>
    <header>
      
      <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="/tiepredict/">tiepredict</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/tiepredict/posts/about/">About</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="/tiepredict/ties/">Ties</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="/tiepredict/teams/">Teams</a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="/tiepredict/goals/">Goals</a>
            </li>
            
          </ul>
        </div>
      </nav>
      
    </header>

    <main role="main" class="flex-shrink-0" style='margin-bottom: 15px;'>
      
      <div class='container'>
        
        <h1>About this site</h1>

        

        

        
<p>Win probability models are somewhat ubiquitous in sports these days, with data used to describe the back-and-forth rhythms of a particular game. Less common are models that forecast an outcome over multiple games. This is one attempt at that.</p>

<p>Welcome to <strong>tiepredict</strong>. This website serves as the home of the results of a model created by me, <a href="https://ryanvmenezes.github.io/about/">Ryan Menezes</a>, a data analyst and coder based in America growing increasingly obsessed with association football around the world.</p>

<p>The model aims to forecast the outcome in a specific kind of contest: One where each team plays a home match, and the winner is determined by the total number of goals scored across the two matches. This is referred to as a <a href="https://en.wikipedia.org/wiki/Two-legged_tie">two-legged tie</a>, hence <strong>tie</strong>predict. (We might call such matchups a home-and-away series in America, where the term "tie" is mainly used to refer to a game where the score ends level, an outcome more typically referred to as a "draw" in the rest of the world. Luckily there's absolute harmony across the world when it comes to what to call the sport that is the focus of this project.)</p>

<p>More details will follow in this post but here's a brief summary of how this project came together: Using the R programming language, I started by scraping match information from <a href="https://fbref.com/en/">FBref</a>, a burgeoning resource for global soccer statistics. I also scraped data on the betting odds of each match from <a href="https://www.oddsportal.com/soccer/europe/champions-league/">OddsPortal</a>, to assess the relative strength of each team. Then, I used R to organize and combine the data, before attempting some predictive modeling to forecast the winner of the tie. Once I felt comfortable with the predictions I was getting, I created this website to publish hundreds of <a href="/tiepredict/ties/2017-cl-1k-3r16-sevilla-leicester-city/">win</a> <a href="/tiepredict/ties/2016-cl-0q-1fqr-red-imps-santa-coloma/">probability</a> <a href="/tiepredict/ties/2019-el-0q-1fqr-cs-fola-esch-fc-prishtina/">charts</a>.</p>

<p>I focused specifically on matches where the <a href="https://en.wikipedia.org/wiki/Away_goals_rule">"away goals rule"</a> applies. I am endlessly fascinated by this rule. There is no equivalent that I know of in American sports, where all points, goals or runs are inherently equal. It adds a layer of distortion I'm still not totally comfortable with: I see a 2-2 scoreline and my mind thinks it's an even contest, but I also know it's not the case. I was initially interested in quantifying the impact of the away goal before deciding to do something more expansive.</p>

<p>Right now, this project covers matches in UEFA's Champions League and Europa League, in both the preliminary and knockout rounds. It will hopefully be expanded to include other competitions, such as the UEFA Women's Champions League and CONMEBOL's Copa Libertadores, as I gather more data.</p>

<h2>Why did I do this?</h2>

<p>As I mentioned earlier, I'm a relative newcomer to soccer, having picked up watching the sport around 2015 after an upbringing spent immersed in the most popular American sports. Now, I set alarms for weekend mornings so I can wake up to watch England's Premier League, and any other interesting European matches for which I have time. Having started watching just a few years ago, I feel like I have a lot of catching up to do. And when it comes time to doing any research, for my job or otherwise, I turn to data as much as I can.</p>

<p>I found FBRef's data to be authoritative and comprehensive. Not only did it cover notable fixtures with lots of eyeballs on them, but it also provided information on the qualifying rounds of the competitions. Many people start watching the Champions League around the 32-team group stage, but the competition has really been going on for months before that, involving dozens more teams. At least one champion from each of Europe's domestic leagues gets a sport in the tournament, even tiny <a href="https://fbref.com/en/matches/6fffd086/Red-Star-Belgrade-Europa-August-18-2020-Champions-League">Gibraltar</a>. FBref's data was no less comprehensive when it came to the lesser regarded Europa League, the second-tier continental competition but one that features vastly different teams and countries than the Champions League. Whether it was the Champions League or Europa League, knockout rounds or qualifying rounds, I wanted to take a look at all of it. By taking a complete view of the data, I learned more about the teams and the countries they're based in (European history was never my strong suit in school).</p>

<p>Win probability models have also long fascinated me. My undergraduate degree was in statistics, and while predictive modeling has never been my strong suit, I immediately saw that win probability was just a type of model. It asks one question: Who will win the game? And it uses a number of inputs about the game to estimate each team's chances. These days, ESPN puts win probability charts <a href="https://www.espn.com/nba/game/_/gameId/401307677">alongside box scores</a> of most sports (though not soccer matches).</p>

<p>So I wanted to create this kind of model to pique my statistical interests, but also because I see a win probability chart as telling a <em>story</em>. As a journalist, I'm interested in good stories, and I think that these charts provide a distillation of many complicated factors in a particular game. I wouldn't stare at a live win probability chart instead of watching a game or anything, but if I'm trying to get a broad overview of what went on in a game I wasn't watching, I check how the win probability fluctuated. And as I mentioned before, I'm playing catchup here with football.</p>

<p>I saw building a win probability model and churning out graphs as a way to tell some of the stories that I had missed. And it's unearthed some interesting ones. Many people probably watched <a href="/tiepredict/ties/2017-cl-1k-3r16-paris-s-g-barcelona/">Barcelona's remarkable comeback against Paris Saint-Germain</a> in 2017. But far fewer were tuned in when a tiny Maltese side named Gżira United <a href="/tiepredict/ties/2020-el-0q-1fqr-gzira-united-hajduk-split/">stunned</a> a much more established Croatian team early in Europa League qualifying in 2019, a feat my model rates as <a href="/tiepredict/ties/comeback/">the greatest comeback</a> out of the more than 1,400 matches I've gathered data for. You can <a href="https://www.youtube.com/watch?v=zfDeZs_WBSY">see the sheer joy</a> on the face of the Gżira's Ivorian striker, whose two spectacular goals in Croatia led his team to a win on away goals. This might be the pinnacle of that player's career and <a href="https://timesofmalta.com/articles/view/we-made-history-gzira-knock-out-hajduk-split-in-europa-league.722890">the best night ever for his club</a>. This win probability model is one way of capturing it.</p>

<h2>How was all of this done?</h2>

<p>TK</p>


      </div>
      
    </main>

    
    <footer class="footer mt-auto py-3" style="background-color:#f5f5f5;">
      <div class="container text-muted">
        <p><a href="#">Back to top</a></p>
        <p><a href='/tiepredict/posts/about/'>About this project</a></p>
        <p>Match data from <a href='https://fbref.com/en/'>FBref</a>. Odds data from <a href='https://www.oddsportal.com/'>Odds Portal</a>. Flag icons from <a href='https://www.flaticon.com/packs/rectangular-country-simple-flags'>Flaticon</a>.</p>
        <p>Data analysis, web development and digital design by Ryan Menezes. Source code and data files on <a href='https://github.com/ryanvmenezes/futbol-winprob-model'>GitHub</a>, released under the MIT License.</p>
      </div>
    </footer>
    

    <script src="/tiepredict/static/js/jquery-3.5.1.slim.min.js"></script>
    <script src="/tiepredict/static/js/bootstrap.min.js"></script>
    
    
  </body>
</html>
